这里其实是一个Linux环境配置问题，Linux的工作方式以及它的相关概念（包，头，编译，依赖，扩展，二进制等等）

graphite:

准备工具
yum groupinstall "Development tools"
yum install python-devel
yum install zlib-devel
yum install bzip2-devel
yum install openssl-devel
yum install ncurses-devel
yum install sqlite-devel
(yum -y install python-setuptools python-setuptools-devel ) ?
easy_install pip

安装Python2.7
(https://github.com/h2oai/h2o-2/wiki/Installing-python-2.7-on-centos-6.3.-Follow-this-sequence-exactly-for-centos-machine-only)
cd /opt
wget --no-check-certificate https://www.python.org/ftp/python/2.7.6/Python-2.7.6.tar.xz
tar xf Python-2.7.6.tar.xz
cd Python-2.7.6
./configure --prefix=/usr/local --enable-shared(这个安装mod_wsgi时要用到)
make && make altinstall
echo $PATH
which python
Python -V （？python: error while loading shared libraries: libpython2.7.so.1.0: cannot open shared object file: No such file or directory
 find /usr -name "libpython2.7.so.1.0"
 /usr/local/lib/libpython2.7.so.1.0
 vim /etc/ld.so.conf
 /sbin/ldconfig -v
）
ln -s /usr/local/bin/python2.7 /usr/bin/python 
（因为yum是不兼容 Python 2.7的，所以yum不能正常工作，我们需要指定 yum 的Python版本
#vi /usr/bin/yum  
将文件头部的
#!/usr/bin/python
改成
#!/usr/bin/python2.6.6）

安装carbon
# sudo pip install twisted
(?ImportError: No module named pkg_resources
wget https://bitbucket.org/pypa/setuptools/raw/bootstrap/ez_setup.py -O - | python 结果：
Installed /usr/local/lib/python2.7/site-packages/setuptools-19.2-py2.7.egg
?pip==7.1.2' distribution was not found and is required by the application
wget --no-check-certificate  https://bootstrap.pypa.io/get-pip.py
python get-pip.py(python2.7.9之前版本默认不带pip) 
)
# cd /tmp
# git clone https://github.com/graphite-project/carbon.git
# cd /tmp/carbon
# sudo python setup.py install
# cd /tmp
# git clone https://github.com/graphite-project/whisper.git
# cd /tmp/whisper
# sudo python setup.py install

安装graphite-web
# git clone https://github.com/graphite-project/graphite-web.git
# cd /tmp/graphite-web
# python check-dependencies.py
# sudo yum install cairo-devel
# sudo yum install pycairo-devel
（？# sudo pip install django
（？Django1.7版本以上不支持这个命令 work的方式之一是重装django低版本，1.5版本较佳
$ wget  www.djangoproject.com/m/releases/1.5/Django-1.5.4.tar.gz
$ tar zxvf Django-1.5.4.tar.gz 
$ cd Django-1.5.4
$ python setup.py install
？# sudo pip install django-tagging
？连带需要pip uninstall django-tagging   pip install "django-tagging<0.4"
）
# sudo pip install pyparsing
# sudo pip install python-memcached  非必须
# sudo pip install txamqp            非必须
# sudo pip install pytz
# cd /tmp/graphite-web
# python check-dependencies.py
(
http://cairographics.org/releases/py2cairo-1.10.0.tar.bz2
tar -jxvf py2cairo-1.10.0.tar.bz2
(?need cairo
http://cairographics.org/releases/cairo-1.10.0.tar.gz
./configure
make
make insall
)
CFLAGS="-l/usr/local/include/python2.7 -l/usr/local/bin" LDFLAGS="-lm -ldl -lutil" ./waf configure(? Could not find the python development headers)
export PKG_CONFIG_PATH=/usr/local/lib/pkgconfig(?'cairo' >= 1.10.0           : not found  )
./waf build
./waf install
)

数据库初始化
# cd /opt/graphite
# export PYTHONPATH=$PYTHONPATH:`pwd`/webapp
# django-admin.py syncdb --settings=graphite.settings
（？Django1.7版本以上不支持这个命令 work的方式之一是重装django低版本，1.5版本较佳
$ wget  www.djangoproject.com/m/releases/1.5/Django-1.5.4.tar.gz
$ tar zxvf Django-1.5.4.tar.gz 
$ cd Django-1.5.4
$ python setup.py install
连带需要pip uninstall django-tagging   pip install "django-tagging<0.4"）

启动graphite web界面
# cd /opt/graphite
# PYTHONPATH=`pwd`/storage/whisper ./bin/run-graphite-devel-server.py --port=8085 --libs=`pwd`/webapp /opt/graphite 1>/opt/graphite/storage/log/webapp/process.log 2>&1 &
# tail -f /opt/graphite/storage/log/webapp/process.log


yum install httpd-devel（--with-apxs=apxs 需要）
https://github.com/GrahamDumpleton/mod_wsgi/releases
cd 到文件目录
which Python 
whicn apxs
./configure --with-python=python目录 --with-apxs=apxs目录
make
make install
Apache主配置加入 LoadModule wsgi_module modules/mod_wsgi.so
apache log(?Permission denied: mod_wsgi (pid=26962): Unable to connect to WSGI \
 daemon process '<process-name>' on '/etc/httpd/logs/wsgi.26957.0.1.sock' 
 graphite.conf虚拟主机段外加入 WSGISocketPrefix run/wsgi
 )
