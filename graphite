graphite:

准备工具
yum groupinstall "Development tools"
yum install python-devel
yum install zlib-devel
yum install bzip2-devel
yum install openssl-devel
yum install ncurses-devel
yum install sqlite-devel
(yum -y install python-setuptools python-setuptools-devel ) ?
easy_install pip

安装Python2.7
(https://github.com/h2oai/h2o-2/wiki/Installing-python-2.7-on-centos-6.3.-Follow-this-sequence-exactly-for-centos-machine-only)
cd /opt
wget --no-check-certificate https://www.python.org/ftp/python/2.7.6/Python-2.7.6.tar.xz
tar xf Python-2.7.6.tar.xz
cd Python-2.7.6
./configure --prefix=/usr/local --enable-shared(这个安装mod_wsgi时要用到)
make && make altinstall
echo $PATH
which python
ln -s /usr/local/bin/python2.7 /usr/bin/python 
（因为yum是不兼容 Python 2.7的，所以yum不能正常工作，我们需要指定 yum 的Python版本
#vi /usr/bin/yum  
将文件头部的
#!/usr/bin/python
改成
#!/usr/bin/python2.6.6）

安装carbon
# sudo pip install twisted
# cd /tmp
# git clone https://github.com/graphite-project/carbon.git
# cd /tmp/carbon
# sudo python setup.py install
# cd /tmp
# git clone https://github.com/graphite-project/whisper.git
# cd /tmp/whisper
# sudo python setup.py install

安装graphite-web
# git clone https://github.com/graphite-project/graphite-web.git
# cd /tmp/graphite-web
# python check-dependencies.py
# sudo yum install cairo-devel
# sudo yum install pycairo-devel
# sudo pip install django
# sudo pip install pyparsing
# sudo pip install django-tagging
# sudo pip install python-memcached
# sudo pip install txamqp
# sudo pip install pytz
# cd /tmp/graphite-web
# python check-dependencies.py
(
http://cairographics.org/releases/py2cairo-1.10.0.tar.bz2
tar -jxvf py2cairo-1.10.0.tar.bz2
(?need cairo
http://cairographics.org/releases/cairo-1.10.0.tar.gz
./configure
make
make insall
)
CFLAGS="-l/usr/local/include/python2.7 -l/usr/local/bin" LDFLAGS="-lm -ldl -lutil" ./waf configure(? Could not find the python development headers)
export PKG_CONFIG_PATH=/usr/local/lib/pkgconfig(?'cairo' >= 1.10.0           : not found  )
./waf build
./waf install
)

数据库初始化
# cd /opt/graphite
# export PYTHONPATH=$PYTHONPATH:`pwd`/webapp
# django-admin.py syncdb --settings=graphite.settings
（？Django1.7版本以上不支持这个命令 work的方式之一是重装django低版本，1.5版本较佳
$ wget  www.djangoproject.com/m/releases/1.5/Django-1.5.4.tar.gz
$ tar zxvf Django-1.5.4.tar.gz 
$ cd Django-1.5.4
$ python setup.py install
连带需要pip uninstall django-tagging   pip install "django-tagging<0.4"）

启动graphite web界面
# cd /opt/graphite
# PYTHONPATH=`pwd`/storage/whisper ./bin/run-graphite-devel-server.py --port=8085 --libs=`pwd`/webapp /opt/graphite 1>/opt/graphite/storage/log/webapp/process.log 2>&1 &
# tail -f /opt/graphite/storage/log/webapp/process.log


yum install httpd-devel
https://github.com/GrahamDumpleton/mod_wsgi/releases
